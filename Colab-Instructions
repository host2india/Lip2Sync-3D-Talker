üåü Lip2Sync-3D-Talker ‚Äî Project Files Bundle

A complete set of auxiliary project files for GitHub

üìÑ Colab_AutoSetup.py
# Colab_AutoSetup.py
# One-cell friendly script for Google Colab (run as a single cell)
import os
import sys

REPO = "https://github.com/host2india/Lip2Sync-3D-Talker.git"
CKPT = "models/sadtalker/checkpoints"
WAV2CKPT = "models/wav2lip/checkpoints"

os.makedirs(CKPT, exist_ok=True)
os.makedirs(WAV2CKPT, exist_ok=True)

print("Cloning repository...")
os.system = os.system if hasattr(os, 'system') else lambda x: None
!git clone https://github.com/host2india/Lip2Sync-3D-Talker.git
%cd Lip2Sync-3D-Talker

# install requirements
print("Installing Python dependencies...")
!pip install -r models/sadtalker_src/requirements3d.txt || pip install -r requirements.txt

# Helper to download from Google Drive using gdown
import gdown

def down(drive_id, out):
    if os.path.exists(out):
        print(f"Already exists: {out}")
        return
    url = f"https://drive.google.com/uc?id={drive_id}"
    print(f"Downloading {out} ...")
    gdown.download(url, out, quiet=False)


# === Download All SadTalker Checkpoints ===
FILES = {
    "epoch_20.pth": "1Yj-s_mOOi0Cze3hMewGfYi1NhvUr9tus",
    "audo2exp_00300-model.pth": "1FEeNXMmsgUDGAH2LkIOoXtJSWG9jln1V",
    "audio2pose_00140-model.pth": "1-127XXF3jtT39dsQCzA7zrHq_ltbAuP4",
    "mapping_00109-model.pth.tar": "1T7Q1gCB-wwlZhym5bX45AWxFOPV-fZYi",
    "mapping_00229-model.pth.tar": "1H4cIAn-URt8OEh7ykJW-38AzRpz4bSIM",
    "epoch_00190.pth.tar": "1B6-Sark54byn8d9HeAvjqXrcuiY8hxuP",
    "hubert_soft.pt": "1Xqhfsr3ZXUlogrwNiFg9Y734cpbrm4zK",
    "GFV.pth": "11rhboV2IJZi1q6t34kfvuwxSmWChOuJQ",
    "facevid2vid_00189-model.pth.tar": "1BHpU7tErSxtqdNpoA2aqqxR5BnrB46Jx",
    "shape_predictor_68_face_landmarks.dat": "18Xiw0JDNe5b0yc0lJ6XJoMb2O7WZ9Pvi",
}

for fname, gid in FILES.items():
    out = os.path.join(CKPT, fname)
    down(gid, out)


# === Optional Wav2Lip ===
WAVFILES = {
    "s3fd.pth": "1BbJGJHpXp0aqEMnvMCBMlv7neEbVcbv1",
    "wav2lip.pth": "12Mma_hL4uQMnnm19NDIT5jQ51MdSiOye",
    "wav2lip_gan.pth": "1oQrGuje3ewSdyuicuaGWuxh-yLCo5RNC",
}

for fname, gid in WAVFILES.items():
    out = os.path.join(WAV2CKPT, fname)
    down(gid, out)

print("Done. You may now run the engine or start the FastAPI server.")

üê≥ Dockerfile
# Dockerfile ‚Äî lightweight image for Lip2Sync-3D-Talker
FROM nvidia/cuda:12.1.1-cudnn8-runtime-ubuntu22.04

ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update && apt-get install -y \
    python3 python3-pip git ffmpeg unzip ca-certificates \
    build-essential libsndfile1 libsm6 libxext6 libxrender1 \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /workspace
COPY . /workspace

RUN pip3 install --upgrade pip
RUN pip3 install -r requirements.txt || pip3 install -r models/sadtalker_src/requirements3d.txt

# create folders
RUN mkdir -p /workspace/models/sadtalker/checkpoints /workspace/app/engines/sadtalker/output

EXPOSE 8000

CMD ["uvicorn", "api:app", "--host", "0.0.0.0", "--port", "8000"]

ü§ù CONTRIBUTING.md
# Contributing to Lip2Sync-3D-Talker

Thank you for your interest in contributing!

## üöÄ How to Contribute

1. Fork this repository  
2. Create your feature branch:  
   `git checkout -b feature/my-feature`
3. Add tests / documentation where needed  
4. Follow the code-style (PEP8 for Python)
5. Commit & push  
   `git commit -m "feat: my new feature"`  
   `git push origin feature/my-feature`
6. Open a Pull Request

## üß™ Testing
If you modify the inference engine, include a minimal reproducible test in `/tests`.

## üìú License
By contributing you agree your code will be licensed under **MIT**.

üì° api_example_request.sh
#!/bin/bash
# Example curl request for Lip2Sync-3D-Talker API

curl -X POST "http://localhost:8000/talk" \
  -F "image=@/path/to/image.png" \
  -F "audio=@/path/to/audio.wav"

üéûÔ∏è sample_output.gif (Placeholder)

Place this file in:

app/engines/sadtalker/output/sample_output.gif


(This can be replaced with a real generated output later.)

üìù .gitignore
__pycache__/
*.pyc
*.pth
*.pth.tar

models/**/checkpoints/*
models/*/.venv*

.env
.DS_Store
uploads/

app/engines/sadtalker/output/*.mp4
